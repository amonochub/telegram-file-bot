# Руководство по ручному тестированию Telegram File Bot

## Подготовка к тестированию

### 1. Настройка окружения
```bash
# Активация виртуального окружения
source venv/bin/activate

# Установка зависимостей
pip install -r requirements.txt

# Создание .env файла
cp env.example .env
# Отредактируйте .env файл с вашими токенами
```

### 2. Запуск бота для тестирования
```bash
python app/main.py
```

## Чек-лист ручного тестирования

### Основная функциональность

#### ✅ Тест 1: Запуск и инициализация
- [ ] Бот запускается без ошибок
- [ ] Логи показывают успешную инициализацию
- [ ] Подключение к Яндекс.Диску работает (если токен настроен)
- [ ] Бот отвечает на команду /start

#### ✅ Тест 2: Базовые команды
- [ ] Команда `/start` возвращает приветственное сообщение
- [ ] Команда `/help` показывает справку
- [ ] Команда `/menu` открывает главное меню

#### ✅ Тест 3: Навигация по меню
- [ ] Главное меню отображается корректно
- [ ] Все кнопки меню работают
- [ ] Навигация между разделами работает
- [ ] Кнопка "Назад" возвращает в предыдущее меню

### Загрузка и обработка файлов

#### ✅ Тест 4: Загрузка файлов
- [ ] Загрузка PDF файла (до 100MB)
- [ ] Загрузка изображения (JPG, PNG)
- [ ] Загрузка документа (DOC, DOCX)
- [ ] Обработка ошибки при превышении размера файла
- [ ] Обработка неподдерживаемого формата файла

#### ✅ Тест 5: OCR обработка
- [ ] OCR для изображений работает
- [ ] OCR для PDF работает
- [ ] Результаты OCR сохраняются
- [ ] Обработка ошибок OCR

#### ✅ Тест 6: Анализ документов
- [ ] Анализ текста из OCR
- [ ] Извлечение ключевой информации
- [ ] Генерация отчетов
- [ ] Сохранение результатов анализа

### Курсы валют (CBR)

#### ✅ Тест 7: Курсы валют
- [ ] Получение текущих курсов валют
- [ ] Получение исторических курсов
- [ ] Кэширование данных работает
- [ ] Уведомления о курсах валют

#### ✅ Тест 8: Калькулятор валют
- [ ] Конвертация валют
- [ ] Расчеты с историческими курсами
- [ ] Обработка ошибок API

### Яндекс.Диск интеграция

#### ✅ Тест 9: Яндекс.Диск
- [ ] Подключение к Яндекс.Диску
- [ ] Загрузка файлов на Яндекс.Диск
- [ ] Скачивание файлов с Яндекс.Диска
- [ ] Просмотр файлов на Яндекс.Диске
- [ ] Обработка ошибок подключения

### Безопасность и права доступа

#### ✅ Тест 10: Контроль доступа
- [ ] Проверка ALLOWED_USER_ID работает
- [ ] Неавторизованные пользователи блокируются
- [ ] Авторизованные пользователи имеют доступ
- [ ] Логирование попыток доступа

### Производительность и стабильность

#### ✅ Тест 11: Нагрузочное тестирование
- [ ] Обработка нескольких файлов одновременно
- [ ] Работа с большими файлами
- [ ] Стабильность при длительной работе
- [ ] Использование памяти

#### ✅ Тест 12: Обработка ошибок
- [ ] Обработка сетевых ошибок
- [ ] Обработка ошибок API
- [ ] Восстановление после сбоев
- [ ] Логирование ошибок

## Сценарии тестирования

### Сценарий 1: Полный цикл обработки документа
1. Отправить PDF документ
2. Дождаться OCR обработки
3. Запросить анализ документа
4. Проверить результаты анализа
5. Сохранить на Яндекс.Диск

### Сценарий 2: Работа с курсами валют
1. Запросить текущие курсы
2. Получить исторические данные
3. Выполнить конвертацию валют
4. Настроить уведомления

### Сценарий 3: Навигация и меню
1. Открыть главное меню
2. Перейти в раздел "Загрузка файлов"
3. Вернуться в главное меню
4. Перейти в раздел "Курсы валют"
5. Использовать кнопку "Назад"

## Критерии успешного тестирования

- [ ] Все основные функции работают
- [ ] Обработка ошибок корректна
- [ ] Интерфейс удобен в использовании
- [ ] Производительность приемлема
- [ ] Логи содержат полезную информацию
- [ ] Безопасность обеспечена

## Отчет о тестировании

После выполнения всех тестов заполните отчет:

```
Дата тестирования: _______________
Тестировщик: ____________________

Результаты:
- Пройдено тестов: ___/12
- Критические ошибки: ___
- Некритические ошибки: ___
- Предложения по улучшению: _______________

Общий результат: ПРОЙДЕНО/НЕ ПРОЙДЕНО
``` 